<%= link_to fa_icon("plus"), new_admin_photo_path, remote: true, class: "btn-blue corner-btn" %>

<%= render "flash_messages" %>

<table class="table">
  <thead>
    <tr>
      <th class="hidden-xs"></th>
      <th>Added</th>
      <th class="hidden-xs">Caption</th>
      <th></th>
      <th class="edit"></th>
    </tr>
  </thead>
  <tbody>
    <% @photos.each do |photo| %>
      <tr>
        <td class="hidden-xs"><%= photo.published? ? fa_icon("check") : fa_icon("ellipsis-h") %></td>
        <td><%= photo.created_at.to_s(:numeric) %></td>
        <td class="hidden-xs"><%= truncate(photo.caption, length: 80, separator: " ") %></td>
        <td>
          <%= link_to "Preview", "javascript:void(0)", rel: "photo-previews", class: "image-preview",
            data: { fancybox_href: photo.image.display.url, fancybox_title: photo_caption(photo) } %>
        </td>
        <td class="edit">
          <%= link_to fa_icon("edit"), edit_admin_photo_path(photo), remote: true %>
          <%= link_to fa_icon("trash-o"), admin_photo_path(photo), method: :delete, remote: true,
            data: { confirm: "Are you sure you want to delete this photo?" } %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="pagination-links clearfix">
  <%= link_to_previous_page @photos, "#{fa_icon("caret-left")} PREV".html_safe,
    params: { controller: "/admin/photos" }, remote: true %>
  <%= link_to_next_page @photos, "NEXT #{fa_icon("caret-right")}".html_safe,
    params: { controller: "/admin/photos" }, remote: true %>
</div>